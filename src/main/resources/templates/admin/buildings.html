<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Здания</title>
    <link th:href="@{/webjars/bootstrap/3.3.6/css/bootstrap.min.css}" rel="stylesheet"></link>
</head>
<body>
<div th:replace="fragments/navigation :: nav-for-admin"></div>
<div class="container">
    <h3>Интерьер зданий города</h3>
    <h3>Ваши здания:</h3>
    <ul class="list-inline">
        <!--/*@thymesVar id="buildingList" type="List<Building>"*/-->
        <li th:each="building : ${buildingList}">
            <a th:href="${'/admin/buildings#building'+building.getId()}" th:text="${building.getName()}">Home</a>
        </li>
    </ul>
    <th:block th:each="mapEntry : ${buildingMap}" th:with="building = ${mapEntry.getKey()}, roomViewList = ${mapEntry.getValue()}">
        <a th:name="${'building'+building.getId()}"></a>
        <h3 th:text="${#strings.toUpperCase(building.getName())}">Здание</h3>
        <form th:action="@{/admin/placeBuildingThing}" method="post" class="form-inline" style="padding-bottom: 10px;">
            <input type="hidden" name="buildingId" th:value="${building.getId()}"/>
            <div class="form-group">
                <label>Разместить вещь:</label>
                <select class="form-control" name="thingId">
                    <option th:each="thing : ${thingList}"
                            th:value="${thing.getId()}"
                            th:text="${thing.getName()}">
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label>x:</label>
                <input type="text" name="x" class="form-control" style="width: 75px;"/>
            </div>
            <div class="form-group">
                <label>y:</label>
                <input type="text" name="y" class="form-control" style="width: 75px;"/>
            </div>
            <div class="form-group">
                <label>layer:</label>
                <input type="text" name="layer" class="form-control" value="0" style="width: 75px;"/>
            </div>
            <button type="submit" class="btn btn-default">Установить</button>
        </form>
        <th:block th:with="roomView = ${roomViewList.get(0)}">
            <!--/*@thymesVar id="roomView" type="dyn.model.RoomView"*/-->
            <div th:replace="fragments/roomView :: room-view (roomView=${roomView})"></div>
        </th:block>
    </th:block>
</div>
<script th:src="@{/webjars/jquery/1.9.1/jquery.min.js}"></script>
<script th:src="@{/webjars/bootstrap/3.3.6/js/bootstrap.min.js}"></script>
<script>
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>
</body>
</html>